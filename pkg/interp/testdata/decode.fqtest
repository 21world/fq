$ fq -i -d mp3 . /test.mp3
mp3> decode
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (mp3)
0x000|49 44 33 04 00 00 00 00 00 23 54 53 53 45 00 00|ID3......#TSSE..|  headers: [1]
*    |until 0x2c.7 (45)                              |                |
0x020|                                       ff fb 40|             ..@|  frames: [3]
0x030|c0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00|................|
*    |until 0x283.7 (end) (599)                      |                |
     |                                               |                |  footers: [0]
mp3> decode("mp3")
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (mp3)
0x000|49 44 33 04 00 00 00 00 00 23 54 53 53 45 00 00|ID3......#TSSE..|  headers: [1]
*    |until 0x2c.7 (45)                              |                |
0x020|                                       ff fb 40|             ..@|  frames: [3]
0x030|c0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00|................|
*    |until 0x283.7 (end) (599)                      |                |
     |                                               |                |  footers: [0]
mp3> decode("mp3"; {})
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (mp3)
0x000|49 44 33 04 00 00 00 00 00 23 54 53 53 45 00 00|ID3......#TSSE..|  headers: [1]
*    |until 0x2c.7 (45)                              |                |
0x020|                                       ff fb 40|             ..@|  frames: [3]
0x030|c0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00|................|
*    |until 0x283.7 (end) (599)                      |                |
     |                                               |                |  footers: [0]
mp3> probe
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (mp3)
0x000|49 44 33 04 00 00 00 00 00 23 54 53 53 45 00 00|ID3......#TSSE..|  headers: [1]
*    |until 0x2c.7 (45)                              |                |
0x020|                                       ff fb 40|             ..@|  frames: [3]
0x030|c0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00|................|
*    |until 0x283.7 (end) (599)                      |                |
     |                                               |                |  footers: [0]
mp3> probe({})
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (mp3)
0x000|49 44 33 04 00 00 00 00 00 23 54 53 53 45 00 00|ID3......#TSSE..|  headers: [1]
*    |until 0x2c.7 (45)                              |                |
0x020|                                       ff fb 40|             ..@|  frames: [3]
0x030|c0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00|................|
*    |until 0x283.7 (end) (599)                      |                |
     |                                               |                |  footers: [0]
mp3> format
"mp3"
mp3> null | format
null
mp3> ^D
$ fq -d raw 'png | d' /test.mp3
     |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (png)
     |                                               |                |  error: png: failed to validate at position 0x0: expected any of ["\x89PNG\r\n\x1a\n"] found "ID3\x04\x00\x00\x00\x00"
0x000|49 44 33 04 00 00 00 00                        |ID3.....        |  signature: "ID3\x04\x00\x00\x00\x00" (Incorrect)
0x000|                        00 23 54 53 53 45 00 00|        .#TSSE..|  unknown0: 0023545353450000000f0000034c6176...
0x010|00 0f 00 00 03 4c 61 76 66 35 38 2e 34 35 2e 31|.....Lavf58.45.1|
*    |until 0x283.7 (end) (636)                      |                |
$ fq -d raw 'tobytes[0:1] | png | d' /test.mp3
   |00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f|0123456789abcdef|.: {} (png)
   |                                               |                |  error: png: FieldValidateUTF8(signature): failed at position 1 (read size 8 seek pos 0): unexpected EOF
0x0|49                                             |I               |  unknown0: 49
$ fq -d raw 'tobytes[0:1] | try probe catch . | type' /test.mp3
"array"
